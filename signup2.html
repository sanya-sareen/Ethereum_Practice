<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript">
        function print() {
    
            var url = "http://localhost:8081/createAccount";
            fetch(url, {
                method: 'POST', 
                body : JSON.stringify({"firstname" : document.getElementById("firstname").value,
                                           "lastname" : document.getElementById("lastname").value,
                                            "email" : document.getElementById("email").value,
                                            "phone" : document.getElementById("phone").value,
                                            "password" : document.getElementById("password").value}),
                                            
                 headers: new Headers({
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*',
                    'Access-Control-Allow-Credentials': 'true',
                    'Access-Control-Allow-Methods': 'POST',
                    'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept,Authorization'
                }),
     

            }).then(response => response.json() )
                .then(res => {
                    alert(JSON.stringify(res),window.location.href = "http://www.w3schools.com")
                })
        }

        function otpGeneration(){

            var url = "http://localhost:8081/generateOTP";
            fetch(url, {
                method: 'POST', 
                body : JSON.stringify({"phone" : document.getElementById("phone").value,
                                           "otp" : document.getElementById("otp").value,
                                           }),
                 headers: new Headers({
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*',
                    'Access-Control-Allow-Credentials': 'true',
                    'Access-Control-Allow-Methods': 'POST',
                    'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept,Authorization'
                }),
            }).then(response => response.json())
                .then(res => {
                    alert(JSON.stringify(res))
               })
        }
    </script>
</head>
<body>
    <h2>create account</h2>
    <br><br>
    First name<input type="text" id="firstname">
         <br><br>
        Last name<input type="text" id="lastname">
        <br><br>
        Email<input type="email" id="email">
        <br><br>
        Phone no. <input type="tel" id = "phone" name="phone" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required>
        <input type="submit" value="OTP" onclick = "otpGeneration()">
         <br><br>
         Enter OTP<input type="tel" id = "otp" name="otpValue" pattern="[0-9]{4}" required>
         <br><br>
        Password<input type="password" id="password">
        <br><br>
        <input type="submit" value="Submit" onclick="print();">                
</body>
</html>